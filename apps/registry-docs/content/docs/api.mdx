# Registry API

The Connector Factory provides open APIs for accessing registry information. These APIs allow developers to programmatically access connector and pipeline metadata, scaffolds, and registry contents.

## Base URL

```
https://registry.docs.moose.dev/api
```

## OpenAPI Specification

The full OpenAPI specification is available at:
- [/api/openapi](/api/openapi) - YAML format
- [View in Swagger UI](https://petstore.swagger.io/?url=https://registry.docs.moose.dev/api/openapi)

## Available Endpoints

### Registry Contents

Get metadata about all connectors and pipelines in the registry. This endpoint returns information about what's available in the registry, not the actual implementation files.

```bash
GET /api/registry/contents
```

Returns a complete list of all connectors and pipelines with their metadata including names, descriptions, authors, versions, tags, and GitHub URLs.

Example:
```bash
curl "https://registry.docs.moose.dev/api/registry/contents"
```

### Connector Scaffold Template

Get the scaffold template for creating new connectors in a specific language.

```bash
GET /api/connectors/scaffolds/{language}
```

Supported languages: `typescript`, `python`

Example:
```bash
curl "https://registry.docs.moose.dev/api/connectors/scaffolds/typescript"
```

### Pipeline Scaffold Template

Get the scaffold template for creating new pipelines in a specific language.

```bash
GET /api/pipelines/scaffolds/{language}
```

Supported languages: `typescript`, `python`

Example:
```bash
curl "https://registry.docs.moose.dev/api/pipelines/scaffolds/typescript"
```

### Specification Documents

Get raw markdown specification documents that define standards and best practices for different types of connectors.

```bash
GET /api/specifications/{type}
```

Available specification types:
- `common` - Common specification for analytical connectors
- `saas` - Specification for SaaS platform connectors
- `api` - Specification for API connectors
- `blob` - Specification for blob storage connectors
- `database` - Specification for database connectors

Example:
```bash
curl "https://registry.docs.moose.dev/api/specifications/saas"
```

## Response Formats

All API responses are in JSON format. The scaffold endpoints return template structures with variables and file/directory definitions:

```json
{
  "$schema": "https://schemas.connector-factory.dev/scaffold.schema.json",
  "scaffold": "typescript",
  "version": "0.6.0",
  "description": "TypeScript implementation scaffold",
  "variables": {
    "connector": {
      "description": "Connector name (kebab-case)",
      "example": "stripe",
      "pattern": "^[a-z0-9][a-z0-9-]*$"
    }
  },
  "structure": [
    {
      "type": "dir",
      "name": "{connector}",
      "children": [
        {
          "type": "file",
          "name": "README.md",
          "template": "# {connector}\n\nConnector implementation..."
        }
      ]
    }
  ]
}
```

## Rate Limiting

These APIs are served as static endpoints and are heavily cached. There are no strict rate limits, but please be respectful of the service.

## Support

For issues or questions about the API, please open an issue on the [GitHub repository](https://github.com/514-labs/factory).
